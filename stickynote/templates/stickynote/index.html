{% extends 'stickynote/base.html' %}
{% load staticfiles %}
{% load static %}

{% block content %}
  <!--static path-->
  <div id="STATICPATH" style="display:none">{% get_static_prefix %}</div>


  {% if user.is_authenticated %}
      <p>Logged in</p>
    {%else%}
      <p>NOT logged in</p>
    {%endif%}


  {% for group in groups %}
    <div class="stickyNotesGrid">
      <div class="sticky_div">
        <div class='clickable group' id="group_{{group.id}}">
          <img class='sticky_img sticky_add_img sticky_elem' src="{% static 'Images/stickynote_yellow.png' %}"/>
          <img class='sticky_plus_img sticky_elem' src="{% static 'Images/plusIcon_opaque.png' %}"/>
          <p class='add_sticky_text sticky_elem'>Add Sticky</p>
        </div>
      </div>
    {% for sticky in stickies %}
      <!--matching groups-->
      {% if sticky.group_id == group.id %}
        <div class="sticky_data sticky_div">
          <div class="stickynote clickable" id=sticky_{{sticky.id}}>
              <img class="sticky_img sticky_elem" src="{% get_static_prefix %}Images/stickynote_{{ sticky.colour|lower }}.png">
              <p class="add_sticky_text sticky_elem">{{sticky.title}}</p>
              <!--TODO: Add stickynote contents here as well-->
            </div>
        </div>
      {% endif %}
    {% endfor %}
  </div>
  {% endfor %}


  <!--Stickynote creation/edit screen-->
  <div class="popup popup_elem hidden_elem" id="id_popup_add_sticky">
  <div class="sticky_edit popup_elem">
  	<div class="header popup_elem">
  		<h1 class="popup_elem popup_title">POPUP TITLE</h1>
  	</div>
  	<div class="body row">
  		<div id="id_sticky_options" class="col-xs-12 col-md-4">
  			<form id="id_sticky_options_form_colour" class="sticky_option_element">
  				<h3>Sticky Colour:</h3>
          {% for colour in colours %}
            <div id="colour_{{colour.id}}" class="colour_option">
              <label class="clickable f" style="color:rgba({{colour.r}},{{colour.g}},{{colour.b}},{{colour.a}});">
                <input type="radio" class="clickable" name="colour" value="{{colour.id}}"/><strong>{{colour.name|upper}}</strong>
              </label>
            </div>
          {% endfor %}
  			</form>
  			<div id="id_sticky_options_delete_sticky" class="sticky_option_element edit_only clickable">
  				<div>
  					<img id="id_trashcan_icon" src="{% static 'Images/trashcan_white_closed.png'%}" height=25/>
  					<h3>Delete Sticky</h3>
  				</div>
  			</div>
  		</div>
      <div class="col-xs-12 col-md-8">
  			<form id="id_sticky_form">
  				<h2>Title:</h2>
  				<input name='title' class="editor_input" placeholder="Insert Title Here..."/>
  				<h2>Contents</h2>
  				<div class="quill_editor_holder editor_input">
  					<div class="quill_editor"></div>
  				</div>
  				<div class="buttons">
  					<input class="popup_submit_button clickable" type='submit' value='Save'/>
  					<input class="popup_cancel_button clickable" type='submit' value='Cancel'/>
  				</div>
  			</form>
    </div>
  	</div>
  </div>
  <!--Grey out the rest of the screen (to prevent button presses as well)-->
  <div class="hide_screen"></div>
  </div>
{% endblock %}
