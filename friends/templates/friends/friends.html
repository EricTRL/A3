
{% extends 'stickynote/base.html' %}
{% load staticfiles %}
{% load static %}

{% block content %}
<!--Eric Test (used for debugging)-->

<div class='signup-wrapper container'>
  <h1>Add Friends</h1>
  <hr>
  <div class="input-group">
      <input type="text" id="search_friend_bar" class="form-control" placeholder="Search for Friends...">
      <span class="input-group-btn">
        <button id="id_search_friends_confirm" class="btn btn-default" type="button"><span class="glyphicon glyphicon-search" aria-hidden="true"></span></button>
      </span>
    </div>

  <div id="id_search_friends_result">
    <!--Entries added dynamically based on search result-->

    <ul class="list-group">
      <li class="list-group-item">
        <table style="width:100%">
          <tr>
            <td>Username</td>
            <td>First Name</td>
            <td>Last Name</td>
            <!--Possibly other fields from the DB. Can easily be added-->
            <td>Friend Status</td>
          </tr>
        </table>
      </li>
      <li class="list-group-item">
        <table style="width:100%" class="wrap-word-newline">
          <tr>
            <td>USERNAME</td>
            <td>FIRSTNAME</td>
            <td>LASTNAME</td>
            <!--Possibly other fields from the DB. Can easily be added-->
            <td class="friend-status">
              <div class="btn-group" role="group" aria-label="SendRequest">
                <button id="id_add_friend_' + iID + '" type="button" disabled>
                  Pending Friend Request <span class="glyphicon glyphicon-time" aria-hidden="true"></span>
                </button>
              </div>
            </td>
          </tr>
        </table>
      </li>
      <li class="list-group-item">user2</li>
      <li class="list-group-item">user3</li>
    </ul>
  </div>
</div>








<br><br><br><br>
<!--End of Test-->

<div class="content container">
    <div class="row">
        <div class="signup-wrapper">
		    <h1>Current Friends:</h1>
		    <hr>
            <ul class="friends-listed">
                {% for friends1 in friends1s %}
                <li>
                    {{ friends1.user2 }}
                    <a class="btn btn-default" id='view-friend-button' href="{% url 'friends:view_friend' friend_id=friends1.user2.id %}">Click me</a>
                </li>
                {% endfor %}
                {% for friends2 in friends2s %}
                <li>
                    {{ friends2.user1 }}
                    <a class="btn btn-default" id='view-friend-button' href="{% url 'friends:view_friend' friend_id=friends2.user1.id %}">Click me</a>
                </li>
                {% endfor %}
            </ul>
		</div>
    </div>
</div>

<div class="content container">
    <div class="row">
        <div class="signup-wrapper">
    		<h1>Pending friend requests</h1>
            <hr>
            <ul class="outgoing-friend-requests">
        		{% for outgoing in outgoings %}
                <li>{{ outgoing.receiver }} has been sent a friend request</li>
                {% empty %}
                <li>There are no pending friend requests</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>

<div class="content container">
    <div class="row">
        <div class="signup-wrapper">
            <h1>Incoming friend requests</h1>
            <hr>
            <ul class="incoming-friend-requests">
                {% for incoming in incomings %}
                <li>{{ incoming.sender }} has sent you a friend request
                    <button class='button_friend_request_response btn btn-success' name="ACCEPTED" value='{{ incoming.sender.id }}' type="button">Yes</button>
                    <button class='button_friend_request_response btn btn-danger' name="DENIED" value='{{ incoming.sender.id }}' type="button">Nah</button>
                </li>
                {% empty %}
                <li>There are no pending friend requests</li>
                {% endfor %}
            </ul>
        </div>
    </div>
</div>
{% endblock %}


{% block JS %}
    {{ block.super }} {# includes previous content in block #}
    {# view-specific imports here: #}
    <!--Import the JS file-->
  	<script src="{% static 'friends.js' %}"></script>
{% endblock %}
